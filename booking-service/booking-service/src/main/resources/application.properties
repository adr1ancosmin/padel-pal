# ===== BOOKING SERVICE CONFIGURATION =====
# This is the most complex service - it talks to other services and RabbitMQ

# ===== APPLICATION INFO =====
spring.application.name=booking-service
server.port=8083                          # ← Service runs on port 8083

# ===== DATABASE CONFIGURATION (H2 In-Memory) =====
spring.datasource.url=jdbc:h2:mem:bookingdb;DB_CLOSE_DELAY=-1;MODE=LEGACY
#                     ↑ DB_CLOSE_DELAY=-1 keeps database alive when no connections
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# ===== JPA/HIBERNATE CONFIGURATION =====
spring.jpa.hibernate.ddl-auto=update      # ← Auto-create tables from @Entity classes
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true            # ← Access at http://localhost:8083/h2-console

# ===== EXTERNAL SERVICES CONFIGURATION =====
# These URLs are used by ExternalServiceClient to call other microservices
# The ${...} syntax allows overriding via environment variables (see docker-compose.yml)
#
# Locally: http://localhost:8081/api/users
# In Docker: http://user-service:8081/api/users (container names as hostnames)
user.service.url=${USER_SERVICE_URL:http://user-service:8081/api/users}
court.service.url=${COURT_SERVICE_URL:http://court-service:8082/api/courts}

# ===== RABBITMQ CONFIGURATION =====
# RabbitMQ is the message broker for async communication
# Booking Service PUBLISHES events to RabbitMQ
spring.rabbitmq.host=${SPRING_RABBITMQ_HOST:localhost}  # ← "rabbitmq" in Docker, "localhost" locally
spring.rabbitmq.port=5672                               # ← Default AMQP port
spring.rabbitmq.username=guest                          # ← Default credentials
spring.rabbitmq.password=guest

